"use strict";(self.webpackChunkkyoungah_dev_blog=self.webpackChunkkyoungah_dev_blog||[]).push([[88],{4637:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var l=t(6540),a=t(8453);function r(e){const n=Object.assign({h2:"h2",ul:"ul",li:"li",a:"a",p:"p",span:"span",h3:"h3",h4:"h4",img:"img",blockquote:"blockquote"},(0,a.R)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.h2,null,"JWT(Json Web Token)"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"두 개체 간의 정보를 안전하게 JSON 객체로 전송하기 위한 간결하고 독립적인 방법을 정의하는 개방형 표준(",l.createElement(n.a,{href:"https://tools.ietf.org/html/rfc7519"},"RFC 7519"),")","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"정보는 디지털 서명이 되어 있기 때문에 신뢰할 수 있다."),"\n",l.createElement(n.li,null,"HMAC 알고리즘을 사용한 비밀키 또는 RAS이나 ECDSA를 사용하는 공개 / 개인키 쌍을 사용하여 서명할 수 있다."),"\n"),"\n"),"\n"),"\n",l.createElement(n.h2,null,"언제 JWT를 사용할 수 있을까?"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"인증","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"JWT를 사용하는 가장 흔한 시나리오."),"\n",l.createElement(n.li,null,"유저가 로그인을 했을 때, 서버에서 사용자의 정보를 담은 토큰을 발급한다. 이 후로는 유저가 서버에 요청을 할 때마다 JWT가 포함된다. 유저는 해당 토큰으로 서비스 및 자원에 접근할 수 있다."),"\n"),"\n"),"\n",l.createElement(n.li,null,"정보 교환","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"JWT는 두 개체 사이에서 안전하게 정보를 전달할 수 있는 좋은 방법이다."),"\n",l.createElement(n.li,null,"서명이 되어 있기 때문에 발신자가 누구이고 위조가 되진 않았는지, 정보 역시 조작되진 않았는지 검증할 수 있다."),"\n"),"\n"),"\n"),"\n",l.createElement(n.h2,null,"JWT 구조"),"\n",l.createElement(n.p,null,"JWT는 (.)으로 구분하여 세부분으로 구성되어 있다."),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">xxxxx.yyyyy.zzzzz</code></pre></div>'}}),"\n",l.createElement(n.p,null,"첫번째 부분은 헤더(Header), 두번째 부분은 내용(Payload), 세번째 부분은 서명(Signature)이다."),"\n",l.createElement(n.h3,null,"Header"),"\n",l.createElement(n.p,null,"헤더(Header)는 두가지 요소로 구성되어 있다."),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">{\n  alg: "HS256",\n  typ: "JWT"\n}</code></pre></div>'}}),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"typ: JWT 같은 토큰의 타입을 지정한다."),"\n",l.createElement(n.li,null,"alg: 헤싱 알고리즘. 주로 HMAC SHA256 또는 RSA 알고리즘을 사용한다."),"\n"),"\n",l.createElement(n.p,null,"이 정보들을 Base64로 인코딩한다."),"\n",l.createElement(n.h3,null,"Payload"),"\n",l.createElement(n.p,null,"내용(Payload)에는 클레임(Claim)을 담고 있다. 클레임이란 사용자에 대한 프로퍼티나 속성을 말하며 name/value의 한쌍으로 이루어져 있다.\n클레임에는 3가지 타입이 있다."),"\n",l.createElement(n.h4,null,"등록된 (registered) 클레임"),"\n",l.createElement(n.p,null,"정보교환에 응하도록 미리 정의된 클레임. 필수는 아니지만 사용을 권장하고 있다."),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"iss: 토큰 발급자 (issuer)"),"\n",l.createElement(n.li,null,"sub: 토큰 정보 (subject)"),"\n",l.createElement(n.li,null,"aud: 토큰 대상자 (audience)"),"\n",l.createElement(n.li,null,"exp: 토큰의 만료시간 (expiration)","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"현재 시간 보다 이후로 설정되어 있어야 한다."),"\n"),"\n"),"\n",l.createElement(n.li,null,"nbf: Not Before 클레임","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"이시간 이전에는 토큰을 처리하지 않아야 함을 의미한다."),"\n"),"\n"),"\n",l.createElement(n.li,null,"iat: 토큰이 발급된 시간 (issued at)"),"\n",l.createElement(n.li,null,"jti: JWT ID","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"JWT의 고유 식별자로서 중복처리 방지를 위해 사용한다."),"\n"),"\n"),"\n"),"\n",l.createElement(n.h4,null,"공개 (public) 클레임"),"\n",l.createElement(n.p,null,"공개 (Public) 클레임의 이름은 마음대로 정의할 수 있으나 충돌이 방지된 이름을 가지고 있어야한다. 충돌을 피하기 위해서는 클레임 이름을 IANA Json Web Token Registry 안에 정의되어 있거나 충돌 방지 namespace가 포함된 URI로 정의해야 한다."),"\n",l.createElement(n.h4,null,"비공개 (private) 클레임"),"\n",l.createElement(n.p,null,"등록된 클레임도 공개 클레임도 아닌 클레임. 정보를 공유하기 위해 양측간에(클라이언트 / 서버) 협의하에 위해 사용되는 클레임 이름이다."),"\n",l.createElement(n.p,null,"Payload를 Base 64로 인코딩하면 JWT의 두번째 부분이 된다."),"\n",l.createElement(n.p,null,"-> 서명이 된 토큰은 정보 위변조는 막을 수 있으나 누구나 읽을 수 있기 때문에 절대로 암호화되지 않은 payload나 header에 비밀 정보를 넣으면 안된다."),"\n",l.createElement(n.h3,null,"Signature"),"\n",l.createElement(n.p,null,"Header의 인코딩값과 Payload의 인코딩값, 비밀키, Header에 정의된 헤싱 알고리즘으로 서명을 생성한다."),"\n",l.createElement(n.p,null,"예를 들어 HMAC SHA256 알고리즘을 사용하면 Signature은 다음과 같이 생성된다."),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">HMACSHA256(\n  base64UrlEncode(header) + "." +\n  base64UrlEncode(payload),\n  secret)</code></pre></div>'}}),"\n",l.createElement(n.p,null,"이 서명은 메시지가 도중에 바뀌지는 않았는지 인증하는데 사용되며 비밀키로 서명된 토큰의 경우 발신자도 인증할 수 있다."),"\n",l.createElement(n.p,null,l.createElement(n.img,{src:"../images/backend/json-web-token-1.png",alt:"JWT Example"}),"\nHeader 인코딩값, Payload 인코딩값, 서명을 .로 구분하면서 모두 합치면 JWT 토큰이 완성된다."),"\n",l.createElement(n.p,null,l.createElement(n.a,{href:"https://jwt.io/"},"JWT 공식 사이트"),"에서 JWT 토크를 생성 및 확인해볼 수 있다."),"\n",l.createElement(n.h2,null,"Reference"),"\n",l.createElement(n.blockquote,null,"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://jwt.io/introduction/"},"Introduction to JSON Web Tokens")),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://velopert.com/2389"},"[JWT] JSON Web Token 소개 및 구조")),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://icarus8050.tistory.com/12"},"JWT에 대한 간단 정리")),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://bcho.tistory.com/999"},"REST JWT(JSON Web Token)소개 - #1 개념 소개")),"\n"),"\n"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.R)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},o=t(2877),u=t(7736),s=t(407),i=t(7735),m=t(685),d=t(2248),h=t(8066),g=t(4848);function p(e){var n,t;let{data:l,children:r}=e;const{date:c,tags:p,title:f}=null!==(n=null==l||null===(t=l.mdx)||void 0===t?void 0:t.frontmatter)&&void 0!==n?n:{};return(0,g.jsx)(u.i,{children:(0,g.jsxs)(o.m,{className:h.q,children:[(0,g.jsx)(d.l,{className:h.V,title:f}),(0,g.jsx)(i.l,{date:c}),(0,g.jsx)(m.I,{tags:p}),(0,g.jsx)(s.E,{children:(0,g.jsx)(a.x,{children:r})})]})})}function f(e){return l.createElement(p,e,l.createElement(c,e))}},407:function(e,n,t){t.d(n,{E:function(){return c}});var l=t(4164),a="post-layout-content-module--post-layout-content-root--01754",r=t(4848);function c(e){let{children:n,className:t,...c}=e;return(0,r.jsx)("div",{className:(0,l.$)(a,t),...c,children:n})}},7735:function(e,n,t){t.d(n,{l:function(){return c}});var l=t(4164),a="post-layout-date-module--post-layout-date-root--f34d1",r=t(4848);function c(e){let{className:n,date:t,...c}=e;return(0,r.jsx)("span",{className:(0,l.$)(a,n),...c,children:t})}},685:function(e,n,t){t.d(n,{I:function(){return o}});var l=t(9143),a=t(4194),r="post-layout-module--post-layout-tags--837df",c=t(4848);function o(e){let{tags:n}=e;return(0,c.jsx)(l.Y,{className:r,children:n.map((e=>(0,c.jsx)(a.Link,{to:"/tags/"+e,children:(0,c.jsx)(l.Y.Tag,{tag:e})},e)))})}},2248:function(e,n,t){t.d(n,{l:function(){return c}});var l=t(4164),a="post-layout-title-module--post-layout-title-root--88374",r=t(4848);function c(e){let{className:n,title:t,...c}=e;return(0,r.jsx)("h1",{className:(0,l.$)(a,n),...c,children:t})}},9143:function(e,n,t){t.d(n,{Y:function(){return r}});var l=t(4164),a=t(4848);const r=Object.assign((function(e){let{children:n,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.$)("tags-module--tags-root--e3461",t),...r,children:n})}),{Tag:function(e){let{className:n,tag:t,...r}=e;return(0,a.jsx)("span",{className:(0,l.$)("tag-module--tag-root--aae01",n),...r,children:t})}})},2877:function(e,n,t){t.d(n,{m:function(){return c}});var l=t(4164),a="container-module--container-root--3b208",r=t(4848);function c(e){let{children:n,className:t,...c}=e;return(0,r.jsx)("div",{className:(0,l.$)(a,t),...c,children:n})}},2629:function(e,n,t){t.d(n,{$:function(){return c}});var l=t(4164),a="basic-layout-module--basic-layout-root--a11e0",r=t(4848);function c(e){let{children:n,className:t,...c}=e;return(0,r.jsx)("div",{className:(0,l.$)(a,t),...c,children:n})}},7736:function(e,n,t){t.d(n,{i:function(){return x}});var l=t(4194),a=t(4164),r="header-module--about--32ac9",c="header-module--header-logo--5bbdc",o="header-module--header-navigation--24bcb",u="header-module--header-navigation-item--ba248",s="header-module--header-navigation-item-link--d6da9",i="header-module--header-navigation-list--3815c",m="header-module--header-root--01ceb",d="header-module--tags--eb332",h=t(4848);function g(){return(0,h.jsxs)("header",{className:m,children:[(0,h.jsx)(l.Link,{to:"/",children:(0,h.jsx)("img",{src:"/images/logo.png",srcSet:"/images/logo-small.png 200w, /images/logo.png 300w",sizes:"(max-width: 360px) 200px, 300px",alt:"dev.kyoungah.me",className:c})}),(0,h.jsx)("nav",{className:o,children:(0,h.jsxs)("ul",{className:i,children:[(0,h.jsx)("li",{className:u,children:(0,h.jsx)(l.Link,{to:"/tags",children:(0,h.jsx)("span",{"aria-label":"tags",className:(0,a.$)(s,d)})})}),(0,h.jsx)("li",{className:u,children:(0,h.jsx)("a",{href:"/about",rel:"noopener",target:"_blank",children:(0,h.jsx)("span",{"aria-label":"about",className:(0,a.$)(s,r)})})})]})})]})}var p="footer-module--footer-root--795ff";function f(){return(0,h.jsxs)("footer",{className:p,children:[(0,h.jsx)("span",{children:"Powered by Gatsby, Hosted by GitHub Pages."}),(0,h.jsxs)("span",{children:["©",(0,h.jsx)("a",{href:"https://github.com/partykyoung",rel:"noreferrer",target:"_blank",children:"KyoungAh"}),", All rights reserved."]})]})}var E=t(2629);function x(e){let{children:n}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{}),(0,h.jsx)(E.$,{children:n}),(0,h.jsx)(f,{})]})}},8066:function(e,n,t){t.d(n,{V:function(){return a},q:function(){return l}});var l="post-layout-module--post-layout-container--f40b5",a="post-layout-module--post-layout-title--1c575"},8453:function(e,n,t){t.d(n,{R:function(){return c},x:function(){return o}});var l=t(6540);const a={},r=l.createContext(a);function c(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),l.createElement(r.Provider,{value:n},e.children)}},4164:function(e,n,t){function l(e){var n,t,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(n=0;n<r;n++)e[n]&&(t=l(e[n]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,n,t=0,a="",r=arguments.length;t<r;t++)(e=arguments[t])&&(n=l(e))&&(a&&(a+=" "),a+=n);return a}t.d(n,{$:function(){return a}})}}]);
//# sourceMappingURL=component---src-app-templates-post-template-post-layout-ui-tsx-content-file-path-posts-2020-03-18-json-web-token-md-bbef7e19923a218dfa58.js.map